# This template uses jdk8 for verifying and deploying images
image: maven:3.3.9-jdk-8

# Stages
stages: 
    - build
    - test
    - package

# Build Job
build: 
    stage: build
    script: mvn clean compile --projects :compiler

# Test Job
test:
    stage: test
    script: mvn test --projects :compiler

# Package Job
package:
    stage: package
    script: mvn package --projects :compiler
    variables:
        MAVEN_OPTS: "-DskipTests=true"
