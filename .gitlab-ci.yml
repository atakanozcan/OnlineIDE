# This template uses jdk8 for verifying and deploying images
image: maven:3.3.9-jdk-8

# Stages
stages: 
    - build
    - test
    - package

# Build Job
build: 
    stage: build
    script: mvn -pl compiler clean compile 

# Test Job
test:
    stage: test
    script: mvn -pl compiler test

# Package Job
package:
    stage: package
    script: mvn -pl compiler package
    variables:
        MAVEN_OPTS: "-DskipTests=true"
