# This template uses jdk8 for verifying and deploying images
image: maven:3.3.9-jdk-8

before_script:
    - apt-get update -qy
    - apt-get install -y gcc
    
# Stages
stages: 
    - build
    - test
    - package

# Build Job
build: 
    stage: build
    script: mvn -f ./compiler/pom.xml clean compile 

# Test Job
test:
    stage: test
    script: mvn -f ./compiler/pom.xml test

# Package Job
package:
    stage: package
    script: mvn -f ./compiler/pom.xml package
    variables:
        MAVEN_OPTS: "-DskipTests=true"
